# 23 - 垃圾回收机制

在JavaScript 中，字符串、对象、数组等数据的占用内存时不固定的，只有在实际使用的时候才会动态分配内存。
当这些数据占用的内存不在使用时，需要释放出来重新使用，如果不及时回收轻将会拖慢程序运行，当可用内存耗尽时，程序将崩溃，也就是所谓的内存泄露。所以垃圾回收非常必要！

## 是什么

预防内存泄漏，JavaScript 回收这些没用地数据地过程被称为垃圾回收。

垃圾回收机制也成为垃圾收集，简称GC（**Garbage Collection**）。

> JavaScript 中的垃圾回收是自动的 ，通过一些收集算法，找到不再使用的变量或属性并清理（即减少内存开销），JavaScript 引擎以固定的时间间隔周期性地释放内存空间（在C/C++ 中，程序员需要手动完成垃圾回收）

自动内存管理（垃圾回收）：
- JavaScript
- Java
- Go
- Python
- PHP
- Ruby
- C#

手动内存管理：
- C
- C++
- Rust

## 什么是内存泄漏

程序的运行需要占用内存，当这些程序没有用到时，还不释放内存，就会引起内存泄漏。举个通俗的例子，就好比占着茅坑不拉屎，坑位（内存量）就这么多，你还不出去（释放内存），就会引起想拉的人不能拉（系统变卡，严重点的会引起进程崩溃）

也就是说不再用到的内存，没有及时释放，就被称为内存泄漏。而内存泄漏，会让系统占用极高的内存，让系统变卡甚至奔溃。

## 回收的是什么

内存（清理变量，释放内存空间）

## 意义

## 运行机制

## 堆内存的分类

## 新生代与老生代的垃圾回收

### 新生代内存回收

### 老生代内存回收

### 新生代 VS 老生代

## 引用计数（reference counting）

## 编年体垃圾回收历史

## 总结

## 参考资料

- [深入理解JavaScript——垃圾回收机制](https://zhuanlan.zhihu.com/p/576722965) [知乎 @Johan 约翰]
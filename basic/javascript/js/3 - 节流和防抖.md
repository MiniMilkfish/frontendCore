# 3 - 节流和防抖

在进行浏览器窗口的resize、scroll、输入框内容校验等操作的时候，如果事件处理函数调用的频率无限制，会加重浏览器的负担，导致用户体验非常差

优化用户体验，减少事件处理函数的调用，就需要采用防抖和节流

## 是什么

### 节流 debounce

当某个操作时连续性执行的时候，我们通过某种方式，降低该操作的执行频率

相与于水龙头放水，节流可以起到开关的作用，可以调节水流的大小

### 防抖 throttle

在事件被触发n 秒后再执行回调，如果在这n 秒内又被触发，则重新计时

## 使用场景

- 节流
  - 拖动一个物体的时候，监听坐标时没必要实时监听，只需要获取物体最后拖动的坐标，增加节流降低执行次数，避免很多不必要的数据记录

```javascript
let lastTime = null;

window.onscroll = function(){
    let currentTime = Date.now();

    if(currentTime - lastTime >= 500) {
        console.log(document.getElement.scrollTop)

        lastTime = currentTime
    }
}
```

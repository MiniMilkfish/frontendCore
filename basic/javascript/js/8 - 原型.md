# 8 - 原型

JavaScript 是基于原型继承（Prototypal inheritance） 的语言。

原型（prototype） 是给其他对象提供共享属性的对象，每个函数都有一个prototype 属性，它指向的是一个 prototype 对象。

每个对象都有一个隐式引用（[[Prototype]]）， 并且[[Prototype]]指向它的原型对象，并从中继承数据、结构和行为。

同时原型对象同样拥有原型（函数也是对象，它也拥有[[Prototype]]），这样一层一层，最终指向null， 这种关系被称为原型链。

## 是什么

### 不同解释

- 《JavaScript 高级程序设计第4版》
  - 无论何时，只要创建一个函数，就会按照特定的规则为这个函数创建一个 prototype 属性（指向原型对象）。默认情况下，所有原型对象自动获得一个名为 constructor 的属性，指回与之关联的构造函数
- ECMA规范
  - 为其他对象提供共享属性的对象
- MDN
  - 遵循ECMAScript 标准，`someObject.[[Prototype]]` 符号是用于指向 someObject 的原型。
  - 从ECMAScript 6 开始，[[Prototype]] 可以通过 `Object.getPrototypeOf()` 和 `Object.setPrototypeOf()` 访问器来访问。这个等同于JavaScript 的非标准但许多浏览器实现的属性 `__proto__`, 但它不应该与构造函数 func的 prototype 属性混淆。
  - 被构造函数创建的实例对象的[[Prototype]] 指向 func 的 prototype 属性。
  - **Object.prototype** 属性表示Object 的原型对象

### 理解原型

- 又名 `prototype`，它的职责是给其他对象提供共享属性
- 从数据结构的角度看，它就是个单向链表
- 原型对象
  - 每个函数都有一个 prototype 属性，这个属性是一个指针，指向一个对象，这个对象成为原型对象
  - 每个对象都有一个[[Prototype]] 属性，它同样是一个指针，指向原型对象
- 原型属性
  - 每个函数都有一个prototype 属性，称为原型属性，指向原型对象
- 原型、prototype、原型对象、原型属性其实是一个东西的不同称呼

### 一些概念

- 函数对象：所有Function（内置构造函数）的实例都是函数对象
- 普通对象
- 构造函数
- 隐式原型
